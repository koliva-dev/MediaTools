<!doctype html>
<html lang="uk">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="/home/ukrainewin/MediaTools/mediamanger_static/css/mediatoolsmanager.css"
    type="text/css">
  <link rel="stylesheet" href="/home/ukrainewin/MediaTools/mediamanger_static/css/localImgsUpload.css" type="text/css">
  <script defer src="/home/ukrainewin/MediaTools/mediamanger_static/js/mediaToolsMainLayout.js"></script>
  <!-- js module upload local img choose from local device storage -->
  <script defer="defer"
    src="/home/ukrainewin/MediaTools/mediamanger_static/js/tools_set_media/mediaToolsLocalFiles.js"></script>
  <!-- end script choose from local device (files) -->
  <script>
    let isrotating = true;
    const wheelSound = new Audio("/home/ukrainewin/MediaTools/mediamanger_static/sounds/rusty-gears.mp3");
    wheelSound.loop = true;
    function playWheel() {
      wheelSound.play();
    }
    function stopPlayWheel() {
      wheelSound.pause();
      wheelSound.currentTime = 0;
    }
    // Function run dispatcher rewrite isrotating to use rotation main tools 
    function setIsRotating(newState) {
      if (isrotating !== newState) {
        isrotating = newState;

        // Dispatch a custom event with the updated state
      }
      const mediaRotatorToolsListener = new CustomEvent('isrotatingTools', {
        detail: { isrotating: isrotating }
      });
      document.dispatchEvent(mediaRotatorToolsListener);
    }            
  </script>
  <script src="/home/ukrainewin/MediaTools/mediamanger_static/js/media_submision/submitLocalImagesForm.js"
    defer></script>


</head>

<body>
  <!-- tools module -->
  <!-- LOCAL_MEDIA_CHOOSE -->
  <div id="uploadImgManager" class="upload-local-files" style="display: none;">
    <div class="return-choose-media-tools"><button id="returnChooseFromMediaTools" class="ret-btn-tools"
        title="–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è —Ç–∞ –æ–±—Ä–∞—Ç–∏ —ñ–Ω—à–µ">–û–±—Ä–∞—Ç–∏ —ñ–Ω—à–µ</button></div>
    <script>
      var datasetLocalImg = null;
    </script>
    <form id="uploadLocalImg" class="form-media-tools">
      <div id="imagePreviewContainer" class="showcase-block-container">

      </div>
      <div class="add-item-form-manager-wrapper">
        <button class="new-img-place" id="addImgBtn" type="button" title="–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –æ–±—Ä–∞–Ω–µ!">
          –î–æ–¥–∞—Ç–∏ –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è
        </button>
      </div>
      <div class="submit-form-button-wrapper">
        <button id="uploadImgsBtn" class="submit-local-button" type="submit">
          –ì–æ—Ç–æ–≤–æ!
        </button>
      </div>
    </form>
  </div>
  <!-- end LOCAL_MEDIA_CHOOSE -->
  <!-- SHUT_IMG_FORM_CAM -->
  <div id="shutImgFromCam" class="upload-local-files" style="display: none;">
    <div class="return-choose-media-tools"><button id="returnChooseFromMediaTools" class="ret-btn-tools"
        title="–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è —Ç–∞ –æ–±—Ä–∞—Ç–∏ —ñ–Ω—à–µ">–û–±—Ä–∞—Ç–∏ —ñ–Ω—à–µ</button></div>
  </div>
  <!-- end SHUT_IMG_FORM_CAM -->
  <!-- CREATE_VIDEO -->
  <div id="createVideo" class="upload-local-files" style="display: none;">
    <div class="return-choose-media-tools"><button id="returnChooseFromMediaTools" class="ret-btn-tools"
        title="–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è —Ç–∞ –æ–±—Ä–∞—Ç–∏ —ñ–Ω—à–µ">–û–±—Ä–∞—Ç–∏ —ñ–Ω—à–µ</button></div>
  </div>
  <!-- end CREATE_VIDEO -->
  <!-- TAKE_IMG_FROM_WEB -->
  <div id="searchTakeImgFromWeb" class="upload-local-files" style="display: none;">
    <div class="return-choose-media-tools"><button id="returnChooseFromMediaTools" class="ret-btn-tools"
        title="–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è —Ç–∞ –æ–±—Ä–∞—Ç–∏ —ñ–Ω—à–µ">–û–±—Ä–∞—Ç–∏ —ñ–Ω—à–µ</button></div>
  </div>
  <!-- end TAKE_IMG_FROM_WEB -->
  <!-- DRAW_BY_HAND_IMG_TOOL -->
  <div id="drawImgToolByHand" class="upload-local-files" style="display: none;">

    <div class="return-choose-media-tools"><button id="returnChooseFromMediaTools" class="ret-btn-tools"
        title="–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è —Ç–∞ –æ–±—Ä–∞—Ç–∏ —ñ–Ω—à–µ">–û–±—Ä–∞—Ç–∏ —ñ–Ω—à–µ</button></div>
    <div id="drawHandleWrapper">

      <canvas id="drawToolCanvas" width="800" height="600"></canvas>

      <div id="pickUpDrawTool" class="tools">
        <p>–û–±—Ä–∞—Ç–∏ –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</p>
        <label>
          <input type="checkbox" name="options" value="drawHanded" act-val="mousedown"
            onclick="drawArtFunctionGetTool(this);"> –ø—Ä–æ—Å—Ç–∞ –ª–∏–Ω—ñ—è
        </label><br>
        <label>
          <input type="checkbox" name="options" value="simple2dotsline" act-val="mousedown"
            onclick="drawArtFunctionGetTool(this);"> –≤—ñ–¥—Ä—ñ–∑–æ–∫
        </label><br>
        <label>
          <input type="checkbox" name="options" value="polyLine" act-val="click"
            onclick="drawArtFunctionGetTool(this);"> –º–Ω–æ–∂–∏–Ω–Ω–∏–π –≤—ñ–¥—Ä—ñ–∑–æ–∫
        </label>
        <label>
          <input type="checkbox" name="options" value="triangle" act-val="click"
            onclick="drawArtFunctionGetTool(this);"> —Ç—Ä–∏–∫—É—Ç–Ω–∏–∫
        </label>
        <label>
          <input type="checkbox" name="options" value="rectangle" act-val="click"
            onclick="drawArtFunctionGetTool(this);"> –ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫
        </label>
        <label>
          <input type="checkbox" name="options" value="polygon" act-val="click" onclick="drawArtFunctionGetTool(this);">
          –±–∞–≥–∞—Ç–æ–∫—ÉÃÅ—Ç–Ω–∏–∫
        </label>
        <label>
          <input type="checkbox" name="options" value="circle" act-val="click" onclick="drawArtFunctionGetTool(this);">
          –∫–æ–ª–æ
        </label>
        <label>
          <input type="checkbox" name="options" value="ellipse" act-val="click" onclick="drawArtFunctionGetTool(this);">
          –µ–ª—ñ–ø—Å
        </label>
        <label for="thisLineColor">–û–±–µ—Ä—ñ—Ç—å –∫–æ–ª—å–æ—Ä —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É
          <input type="color" id="thisLineColor" name="thisLineColor" value="#150">
        </label>
        <button type="button" onclick="eraiseAllFCanvas();">–ø—Ä–∏–±—Ä–∞—Ç–∏ —É—Å–µ</button>
      </div>


      <script defer src="/home/ukrainewin/MediaTools/mediamanger_static/js/tools_set_media/handDrawingTool.js"></script>
      <link rel="stylesheet" href="/home/ukrainewin/MediaTools/mediamanger_static/css/drawHandleTemplate.css">
    </div>
  </div>
  <!-- end DRAW_BY_HAND_IMG_TOOL -->
  <!-- end tools module -->

  <div id="mediaToolsWidget" class="media-widget-wrapper">
    <div id="mediaToolsMenu" class="media-tools-navigator"
      title="–û–±–µ—Ä—ñ—Ç—å –¥–∂–µ—Ä–µ–ª–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è/–≤—ñ–¥–µ–æ –∞–±–æ –∑—Ä–æ–±—ñ—Ç—å —Ñ–æ—Ç–æ —Ç–æ —â–æ">
      <p style="color: yellow; font-weight: bold; text-align: center;">–¢–∏—Ü—å —Ç—É—Ç, –æ–±—Ä–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</p>

    </div>
    <div id="chooseLocalUpload" class="media-tool local-upload">
      <img id="chooseLocalUploadImg" class="img-tool" title="–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑ —Ñ–∞–π–ª—É" style="max-width: 75px;" alt="üóÉÔ∏è"
        src="/home/ukrainewin/MediaTools/mediamanger_static/img/cloud_storage.png">
    </div>
    <div id="chooseTakePhotoDiv" class="media-tool take-photo">
      <img id="chooseTakePhoto" class="img-tool" title="–ó—Ä–æ–±–∏—Ç–∏ —Ñ–æ—Ç–æ" style="max-width: 75px;"
        src="/home/ukrainewin/MediaTools/mediamanger_static/img/cameraDraw.png">
    </div>
    <div id="chooseTakeVideoDiv" class="media-tool video-create">
      <img id="chooseTakeVideo" class="img-tool" title="–ó—Ä–æ–±–∏—Ç–∏ –≤—ñ–¥–µ–æ" style="max-width: 75px;"
        src="/home/ukrainewin/MediaTools/mediamanger_static/img/video_camera.png" alt="üìπ">
    </div>
    <div id="chooseUploadFromWebDiv" class="media-tool web-src-img">
      <img id="chooseUploadFromWeb" class="img-tool" title="–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑ –º–µ—Ä–µ–∂—ñ(url)" style="max-width: 75px;" alt="üì°"
        src="/home/ukrainewin/MediaTools/mediamanger_static/img/imagesFweb.png">
    </div>
    <div id="drawHandedImgDiv" class="media-tool fine-arts-user">
      <img id="drawHandedImg" class="img-tool" title="–ù–∞–º–∞–ª—é–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω–æ—Ä—É—á" style="max-width: 75px;"
        src="/home/ukrainewin/MediaTools/mediamanger_static/img/drawArts.png" alt="üé®">
    </div>
  </div>
  <div id="readyUploadFilesWrapper" class="ready-upload-media-form-wrapper"></div>
  <!-- script CALL UPLOAD LOCAL -->
  <script>
    var currentChosenTool;
    const elementsConditionalObj = {
      drawHandedImg: 'drawImgToolByHand',
      chooseUploadFromWeb: 'searchTakeImgFromWeb',
      chooseTakeVideo: 'createVideo',
      chooseTakePhoto: 'shutImgFromCam',
      chooseLocalUploadImg: 'uploadImgManager',
    }
    const uploadLocalElementCaller = document.getElementById("chooseLocalUploadImg");
    const toolsShowcase = document.getElementById("mediaToolsWidget");
    // eventlistener on-click triggerRef
    const toolsUploadLocalClick = (event) => {
      var initWrapperColor;
      if (elementsConditionalObj[event.target.id]) {
        setIsRotating(false);
        var toolId = elementsConditionalObj[event.target.id]
        currentChosenTool = document.getElementById(toolId);
        const elementReturnTools = currentChosenTool.querySelector('#returnChooseFromMediaTools');
        const returnToTools = (event) => {
          if (event.target === elementReturnTools) {
            setIsRotating(true);
            toolsShowcase.style.display = 'block';
            currentChosenTool.style.display = 'none';
            elementReturnTools.removeEventListener('click', returnToTools);
          }
        }
        currentChosenTool.style.display = (toolsShowcase.style.display != 'none' && currentChosenTool.style.display === 'none') ? (toolsShowcase.style.display = 'none', 'flex') : (toolsShowcase.style.display = 'block', 'none');
        // toolsWrapper.style.display = 'none';
        // uploadLocaltool.style.display = 'flex';
        initWrapperColor = currentChosenTool.parentElement.style.backgroundColor;
        currentChosenTool.parentElement.style.backgroundColor = 'rgba(1, 0, 66, 0.836)';
        // return to main tools showcase
        elementReturnTools.addEventListener('click', returnToTools);
      }
    }
    window.addEventListener('click', toolsUploadLocalClick);
  </script>

</body>

</html>